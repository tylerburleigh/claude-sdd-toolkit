{
  "spec_id": "sdd-begin-cli-streamline-2025-11-17-001",
  "generated": "2025-11-17T00:00:00Z",
  "last_updated": "2025-11-17T12:42:52.439111Z",
  "hierarchy": {
    "spec-root": {
      "type": "spec",
      "title": "Streamline sdd-begin Workflow with CLI Enhancements",
      "status": "pending",
      "parent": null,
      "children": [
        "phase-1",
        "phase-2",
        "phase-3",
        "phase-4",
        "phase-5",
        "phase-6",
        "phase-7"
      ],
      "total_tasks": 47,
      "completed_tasks": 0,
      "metadata": {
        "description": "Optimize sdd-begin workflow by consolidating redundant CLI calls, eliminating duplicate I/O operations, adding consistent JSON output, and implementing contract extraction for token optimization",
        "objectives": [
          "Reduce CLI calls from 4 to 2 by consolidating redundant operations",
          "Achieve 40-60% faster startup through eliminated duplicate I/O",
          "Enable 60-80% token savings via contract extraction",
          "Provide uniform JSON output across all start-helper commands"
        ]
      }
    },
    "phase-1": {
      "type": "phase",
      "title": "Consolidated Work Discovery Command",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-1-files",
        "phase-1-verify"
      ],
      "total_tasks": 7,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Merge format-output and get-session-info into single discover-work command",
        "risk_level": "medium"
      },
      "dependencies": {
        "blocks": [
          "phase-3"
        ]
      }
    },
    "phase-1-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-1",
      "children": [
        "task-1-1",
        "task-1-2",
        "task-1-3"
      ],
      "total_tasks": 5,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-1-verify"
        ]
      }
    },
    "task-1-1": {
      "type": "task",
      "title": "Analyze existing format-output and get-session-info implementations",
      "status": "pending",
      "parent": "phase-1-files",
      "children": [
        "task-1-1-1",
        "task-1-1-2"
      ],
      "dependencies": {
        "blocks": [
          "task-1-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "investigation",
        "estimated_hours": 1
      }
    },
    "task-1-1-1": {
      "type": "subtask",
      "title": "Review cmd_format_output() implementation and data gathering",
      "status": "pending",
      "parent": "task-1-1",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "lines": "156-273"
      }
    },
    "task-1-1-2": {
      "type": "subtask",
      "title": "Review cmd_get_session_info() implementation and data gathering",
      "status": "pending",
      "parent": "task-1-1",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "lines": "276-322"
      }
    },
    "task-1-2": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
      "status": "pending",
      "parent": "phase-1-files",
      "children": [
        "task-1-2-1",
        "task-1-2-2"
      ],
      "dependencies": {
        "blocks": [
          "task-1-3"
        ],
        "blocked_by": [
          "task-1-1"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "implementation",
        "estimated_hours": 3
      }
    },
    "task-1-2-1": {
      "type": "subtask",
      "title": "Create cmd_discover_work() function merging both implementations",
      "status": "pending",
      "parent": "task-1-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Merge logic from cmd_format_output and cmd_get_session_info into single function that returns both formatted output and structured JSON"
      }
    },
    "task-1-2-2": {
      "type": "subtask",
      "title": "Add command registration for discover-work subcommand",
      "status": "pending",
      "parent": "task-1-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Register new discover-work command in register_start_helper() function"
      }
    },
    "task-1-3": {
      "type": "task",
      "title": "Add --json flag support to discover-work command",
      "status": "pending",
      "parent": "phase-1-files",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-1-2"
        ],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "implementation",
        "estimated_hours": 1,
        "description": "Use print_json_output() from json_output.py for consistent JSON formatting"
      }
    },
    "phase-1-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-1",
      "children": [
        "verify-1-1",
        "verify-1-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-1-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-1-1": {
      "type": "verify",
      "title": "Test discover-work command returns expected output",
      "status": "pending",
      "parent": "phase-1-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "sdd skills-dev start-helper discover-work --json",
        "expected": "Returns JSON with specs, pending_specs, last_task, in_progress_count, and formatted_output fields"
      }
    },
    "verify-1-2": {
      "type": "verify",
      "title": "Phase 1 implementation fidelity review",
      "status": "pending",
      "parent": "phase-1-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-1",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-2": {
      "type": "phase",
      "title": "Consolidated Startup Checks",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-2-files",
        "phase-2-verify"
      ],
      "total_tasks": 6,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Merge check-permissions and check-git-config into single check-setup command",
        "risk_level": "low"
      },
      "dependencies": {
        "blocks": [
          "phase-3"
        ]
      }
    },
    "phase-2-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-2",
      "children": [
        "task-2-1",
        "task-2-2",
        "task-2-3"
      ],
      "total_tasks": 4,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-2-verify"
        ]
      }
    },
    "task-2-1": {
      "type": "task",
      "title": "Analyze check-permissions and check-git-config implementations",
      "status": "pending",
      "parent": "phase-2-files",
      "children": [],
      "dependencies": {
        "blocks": [
          "task-2-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "investigation",
        "estimated_hours": 0.5,
        "description": "Review cmd_check_permissions() and cmd_check_git_config() to understand consolidation requirements"
      }
    },
    "task-2-2": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
      "status": "pending",
      "parent": "phase-2-files",
      "children": [
        "task-2-2-1",
        "task-2-2-2"
      ],
      "dependencies": {
        "blocks": [
          "task-2-3"
        ],
        "blocked_by": [
          "task-2-1"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-2-2-1": {
      "type": "subtask",
      "title": "Create cmd_check_setup() function merging both checks",
      "status": "pending",
      "parent": "task-2-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Consolidate permissions and git config checks into unified status response with ready_to_start boolean and setup_required array"
      }
    },
    "task-2-2-2": {
      "type": "subtask",
      "title": "Add command registration for check-setup subcommand",
      "status": "pending",
      "parent": "task-2-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Register new check-setup command in register_start_helper() function"
      }
    },
    "task-2-3": {
      "type": "task",
      "title": "Add --json flag support to check-setup command",
      "status": "pending",
      "parent": "phase-2-files",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-2-2"
        ],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "implementation",
        "estimated_hours": 1,
        "description": "Use print_json_output() for consistent JSON formatting"
      }
    },
    "phase-2-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-2",
      "children": [
        "verify-2-1",
        "verify-2-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-2-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-2-1": {
      "type": "verify",
      "title": "Test check-setup command returns consolidated status",
      "status": "pending",
      "parent": "phase-2-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "sdd skills-dev start-helper check-setup --json",
        "expected": "Returns JSON with permissions, git_config, ready_to_start, and setup_required fields"
      }
    },
    "verify-2-2": {
      "type": "verify",
      "title": "Phase 2 implementation fidelity review",
      "status": "pending",
      "parent": "phase-2-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-2",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-3": {
      "type": "phase",
      "title": "JSON Output Enhancement",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-3-files",
        "phase-3-verify"
      ],
      "dependencies": {
        "blocks": [
          "phase-4"
        ],
        "blocked_by": [
          "phase-1",
          "phase-2"
        ],
        "depends": []
      },
      "total_tasks": 4,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Ensure all start-helper commands have consistent JSON output support",
        "risk_level": "low"
      }
    },
    "phase-3-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-3",
      "children": [
        "task-3-1",
        "task-3-2"
      ],
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-3-verify"
        ]
      }
    },
    "task-3-1": {
      "type": "task",
      "title": "Verify JSON output consistency across new commands",
      "status": "pending",
      "parent": "phase-3-files",
      "children": [],
      "dependencies": {
        "blocks": [
          "task-3-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "investigation",
        "estimated_hours": 0.5,
        "description": "Check that discover-work and check-setup both use print_json_output() consistently"
      }
    },
    "task-3-2": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
      "status": "pending",
      "parent": "phase-3-files",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-3-1"
        ],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "refactoring",
        "estimated_hours": 1,
        "description": "Ensure uniform JSON formatting and error handling across all commands"
      }
    },
    "phase-3-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-3",
      "children": [
        "verify-3-1",
        "verify-3-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-3-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-3-1": {
      "type": "verify",
      "title": "Test JSON output format consistency",
      "status": "pending",
      "parent": "phase-3-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "python -m pytest tests/test_json_output_consistency.py",
        "expected": "All start-helper commands return valid, consistently-formatted JSON"
      }
    },
    "verify-3-2": {
      "type": "verify",
      "title": "Phase 3 implementation fidelity review",
      "status": "pending",
      "parent": "phase-3-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-3",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-4": {
      "type": "phase",
      "title": "Contract Extraction for Token Optimization",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-4-files",
        "phase-4-verify"
      ],
      "dependencies": {
        "blocks": [
          "phase-5"
        ],
        "blocked_by": [
          "phase-3"
        ],
        "depends": []
      },
      "total_tasks": 7,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Implement contract extractors for 60-80% token savings",
        "risk_level": "low"
      }
    },
    "phase-4-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-4",
      "children": [
        "task-4-1",
        "task-4-2",
        "task-4-3"
      ],
      "total_tasks": 5,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-4-verify"
        ]
      }
    },
    "task-4-1": {
      "type": "task",
      "title": "Review existing contract extraction patterns",
      "status": "pending",
      "parent": "phase-4-files",
      "children": [],
      "dependencies": {
        "blocks": [
          "task-4-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "research",
        "estimated_hours": 1,
        "file_path": "src/claude_skills/claude_skills/common/contracts.py",
        "description": "Study extract_prepare_task_contract() and other extractors to understand patterns"
      }
    },
    "task-4-2": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/common/contracts.py",
      "status": "pending",
      "parent": "phase-4-files",
      "children": [
        "task-4-2-1",
        "task-4-2-2"
      ],
      "dependencies": {
        "blocks": [
          "task-4-3"
        ],
        "blocked_by": [
          "task-4-1"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/common/contracts.py",
        "task_category": "implementation",
        "estimated_hours": 3
      }
    },
    "task-4-2-1": {
      "type": "subtask",
      "title": "Create extract_discover_work_contract() function",
      "status": "pending",
      "parent": "task-4-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Extract minimal decision-enabling data: has_work, specs list with id/status, last_task, pending_count"
      }
    },
    "task-4-2-2": {
      "type": "subtask",
      "title": "Create extract_check_setup_contract() function",
      "status": "pending",
      "parent": "task-4-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Extract minimal setup data: ready_to_start boolean, setup_required array"
      }
    },
    "task-4-3": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/common/json_output.py",
      "status": "pending",
      "parent": "phase-4-files",
      "children": [
        "task-4-3-1",
        "task-4-3-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-4-2"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/common/json_output.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-4-3-1": {
      "type": "subtask",
      "title": "Register discover-work contract in format_compact_output()",
      "status": "pending",
      "parent": "task-4-3",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Add 'discover-work' case to command_type mapping"
      }
    },
    "task-4-3-2": {
      "type": "subtask",
      "title": "Register check-setup contract in format_compact_output()",
      "status": "pending",
      "parent": "task-4-3",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Add 'check-setup' case to command_type mapping"
      }
    },
    "phase-4-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-4",
      "children": [
        "verify-4-1",
        "verify-4-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-4-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-4-1": {
      "type": "verify",
      "title": "Test contract extraction produces expected output",
      "status": "pending",
      "parent": "phase-4-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "python -m pytest tests/test_start_helper_contracts.py",
        "expected": "Contract extraction reduces token count by 60-80% while preserving decision-enabling data"
      }
    },
    "verify-4-2": {
      "type": "verify",
      "title": "Phase 4 implementation fidelity review",
      "status": "pending",
      "parent": "phase-4-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-4",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-5": {
      "type": "phase",
      "title": "Update sdd-begin Slash Command",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-5-files",
        "phase-5-verify"
      ],
      "dependencies": {
        "blocks": [
          "phase-6"
        ],
        "blocked_by": [
          "phase-4"
        ],
        "depends": []
      },
      "total_tasks": 5,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Update sdd-begin.md to use new streamlined workflow",
        "risk_level": "medium"
      }
    },
    "phase-5-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-5",
      "children": [
        "task-5-1",
        "task-5-2"
      ],
      "total_tasks": 3,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-5-verify"
        ]
      }
    },
    "task-5-1": {
      "type": "task",
      "title": "Analyze current sdd-begin.md workflow structure",
      "status": "pending",
      "parent": "phase-5-files",
      "children": [],
      "dependencies": {
        "blocks": [
          "task-5-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "investigation",
        "estimated_hours": 0.5,
        "file_path": "commands/sdd-begin.md",
        "description": "Document current workflow structure and identify all CLI call locations"
      }
    },
    "task-5-2": {
      "type": "task",
      "title": "commands/sdd-begin.md",
      "status": "pending",
      "parent": "phase-5-files",
      "children": [
        "task-5-2-1",
        "task-5-2-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-5-1"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "commands/sdd-begin.md",
        "task_category": "refactoring",
        "estimated_hours": 2
      }
    },
    "task-5-2-1": {
      "type": "subtask",
      "title": "Replace check-permissions and check-git-config with check-setup",
      "status": "pending",
      "parent": "task-5-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Update Phase 1 and Phase 2 sections to use single check-setup call"
      }
    },
    "task-5-2-2": {
      "type": "subtask",
      "title": "Replace format-output and get-session-info with discover-work",
      "status": "pending",
      "parent": "task-5-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Update Phase 3 section to use single discover-work call"
      }
    },
    "phase-5-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-5",
      "children": [
        "verify-5-1",
        "verify-5-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-5-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-5-1": {
      "type": "verify",
      "title": "Test sdd-begin workflow with new commands",
      "status": "pending",
      "parent": "phase-5-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "manual",
        "description": "Execute /sdd-begin command and verify it uses only 2 CLI calls (check-setup, discover-work) and produces expected output",
        "command": "",
        "expected": ""
      }
    },
    "verify-5-2": {
      "type": "verify",
      "title": "Phase 5 implementation fidelity review",
      "status": "pending",
      "parent": "phase-5-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-5",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-6": {
      "type": "phase",
      "title": "Deprecation & Cleanup",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-6-files",
        "phase-6-verify"
      ],
      "dependencies": {
        "blocks": [
          "phase-7"
        ],
        "blocked_by": [
          "phase-5"
        ],
        "depends": []
      },
      "total_tasks": 5,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Remove old redundant commands that have been replaced",
        "risk_level": "medium"
      }
    },
    "phase-6-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-6",
      "children": [
        "task-6-1",
        "task-6-2"
      ],
      "total_tasks": 3,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-6-verify"
        ]
      }
    },
    "task-6-1": {
      "type": "task",
      "title": "Search for external references to deprecated commands",
      "status": "pending",
      "parent": "phase-6-files",
      "children": [],
      "dependencies": {
        "blocks": [
          "task-6-2"
        ],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "task_category": "investigation",
        "estimated_hours": 1,
        "description": "Search codebase for any remaining references to format-output, get-session-info, check-permissions, or check-git-config commands"
      }
    },
    "task-6-2": {
      "type": "task",
      "title": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
      "status": "pending",
      "parent": "phase-6-files",
      "children": [
        "task-6-2-1",
        "task-6-2-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "task-6-1"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "src/claude_skills/claude_skills/cli/skills_dev/start_helper.py",
        "task_category": "refactoring",
        "estimated_hours": 2
      }
    },
    "task-6-2-1": {
      "type": "subtask",
      "title": "Remove cmd_format_output() and cmd_get_session_info() functions",
      "status": "pending",
      "parent": "task-6-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Delete deprecated function implementations (lines 156-273, 276-322)"
      }
    },
    "task-6-2-2": {
      "type": "subtask",
      "title": "Remove old command registrations",
      "status": "pending",
      "parent": "task-6-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Remove format-output and get-session-info from register_start_helper() function"
      }
    },
    "phase-6-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-6",
      "children": [
        "verify-6-1",
        "verify-6-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-6-files"
        ],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-6-1": {
      "type": "verify",
      "title": "Verify no broken references after deprecation",
      "status": "pending",
      "parent": "phase-6-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "python -m pytest tests/",
        "expected": "All tests pass with no import errors or missing command errors"
      }
    },
    "verify-6-2": {
      "type": "verify",
      "title": "Phase 6 implementation fidelity review",
      "status": "pending",
      "parent": "phase-6-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "phase",
        "target": "phase-6",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    },
    "phase-7": {
      "type": "phase",
      "title": "Testing & Verification",
      "status": "pending",
      "parent": "spec-root",
      "children": [
        "phase-7-files",
        "phase-7-verify"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-6"
        ],
        "depends": []
      },
      "total_tasks": 13,
      "completed_tasks": 0,
      "metadata": {
        "purpose": "Comprehensive testing of streamlined workflow and performance verification",
        "risk_level": "low"
      }
    },
    "phase-7-files": {
      "type": "group",
      "title": "File Modifications",
      "status": "pending",
      "parent": "phase-7",
      "children": [
        "task-7-1",
        "task-7-2",
        "task-7-3",
        "task-7-4",
        "task-7-5"
      ],
      "total_tasks": 10,
      "completed_tasks": 0,
      "metadata": {},
      "dependencies": {
        "blocks": [
          "phase-7-verify"
        ]
      }
    },
    "task-7-1": {
      "type": "task",
      "title": "tests/test_discover_work.py",
      "status": "pending",
      "parent": "phase-7-files",
      "children": [
        "task-7-1-1",
        "task-7-1-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": [],
        "parallel_safe": true
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "tests/test_discover_work.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-7-1-1": {
      "type": "subtask",
      "title": "Write unit tests for discover-work command",
      "status": "pending",
      "parent": "task-7-1",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Test JSON output, formatted output, edge cases (no specs, multiple specs, in-progress tasks)"
      }
    },
    "task-7-1-2": {
      "type": "subtask",
      "title": "Write integration tests for discover-work CLI invocation",
      "status": "pending",
      "parent": "task-7-1",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Test actual CLI execution with real spec files"
      }
    },
    "task-7-2": {
      "type": "task",
      "title": "tests/test_check_setup.py",
      "status": "pending",
      "parent": "phase-7-files",
      "children": [
        "task-7-2-1",
        "task-7-2-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": [],
        "parallel_safe": true
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "tests/test_check_setup.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-7-2-1": {
      "type": "subtask",
      "title": "Write unit tests for check-setup command",
      "status": "pending",
      "parent": "task-7-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Test ready_to_start logic, setup_required array, permissions and git config integration"
      }
    },
    "task-7-2-2": {
      "type": "subtask",
      "title": "Write integration tests for check-setup CLI invocation",
      "status": "pending",
      "parent": "task-7-2",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Test actual CLI execution with various project states"
      }
    },
    "task-7-3": {
      "type": "task",
      "title": "tests/test_start_helper_contracts.py",
      "status": "pending",
      "parent": "phase-7-files",
      "children": [
        "task-7-3-1",
        "task-7-3-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": [],
        "parallel_safe": true
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "tests/test_start_helper_contracts.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-7-3-1": {
      "type": "subtask",
      "title": "Write tests for extract_discover_work_contract()",
      "status": "pending",
      "parent": "task-7-3",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Verify contract extraction preserves decision-enabling data and achieves token reduction"
      }
    },
    "task-7-3-2": {
      "type": "subtask",
      "title": "Write tests for extract_check_setup_contract()",
      "status": "pending",
      "parent": "task-7-3",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Verify contract extraction produces minimal setup status data"
      }
    },
    "task-7-4": {
      "type": "task",
      "title": "tests/test_sdd_begin_integration.py",
      "status": "pending",
      "parent": "phase-7-files",
      "children": [
        "task-7-4-1",
        "task-7-4-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "tests/test_sdd_begin_integration.py",
        "task_category": "implementation",
        "estimated_hours": 3
      }
    },
    "task-7-4-1": {
      "type": "subtask",
      "title": "Write end-to-end test for complete sdd-begin workflow",
      "status": "pending",
      "parent": "task-7-4",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Test full workflow from check-setup through discover-work with real project state"
      }
    },
    "task-7-4-2": {
      "type": "subtask",
      "title": "Verify workflow executes in exactly 2 CLI calls",
      "status": "pending",
      "parent": "task-7-4",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Count CLI invocations during test execution and assert count equals 2"
      }
    },
    "task-7-5": {
      "type": "task",
      "title": "benchmarks/bench_sdd_begin_performance.py",
      "status": "pending",
      "parent": "phase-7-files",
      "children": [
        "task-7-5-1",
        "task-7-5-2"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 2,
      "completed_tasks": 0,
      "metadata": {
        "file_path": "benchmarks/bench_sdd_begin_performance.py",
        "task_category": "implementation",
        "estimated_hours": 2
      }
    },
    "task-7-5-1": {
      "type": "subtask",
      "title": "Create performance benchmark comparing old vs new workflow",
      "status": "pending",
      "parent": "task-7-5",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Measure execution time, I/O operations, and filesystem access for both workflows"
      }
    },
    "task-7-5-2": {
      "type": "subtask",
      "title": "Create token usage analysis for contract extraction",
      "status": "pending",
      "parent": "task-7-5",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "description": "Measure token counts before/after contract extraction and verify 60-80% reduction"
      }
    },
    "phase-7-verify": {
      "type": "group",
      "title": "Verification",
      "status": "pending",
      "parent": "phase-7",
      "children": [
        "verify-7-1",
        "verify-7-2",
        "verify-7-3"
      ],
      "dependencies": {
        "blocks": [],
        "blocked_by": [
          "phase-7-files"
        ],
        "depends": []
      },
      "total_tasks": 3,
      "completed_tasks": 0,
      "metadata": {}
    },
    "verify-7-1": {
      "type": "verify",
      "title": "Run all tests and verify they pass",
      "status": "pending",
      "parent": "phase-7-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "agent": "run-tests",
        "command": "python -m pytest tests/ -v",
        "expected": "All unit and integration tests pass"
      }
    },
    "verify-7-2": {
      "type": "verify",
      "title": "Verify performance improvements meet targets",
      "status": "pending",
      "parent": "phase-7-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "auto",
        "command": "python benchmarks/bench_sdd_begin_performance.py",
        "expected": "New workflow is 40-60% faster, token reduction is 60-80% with contracts"
      }
    },
    "verify-7-3": {
      "type": "verify",
      "title": "Complete specification fidelity review",
      "status": "pending",
      "parent": "phase-7-verify",
      "children": [],
      "dependencies": {
        "blocks": [],
        "blocked_by": [],
        "depends": []
      },
      "total_tasks": 1,
      "completed_tasks": 0,
      "metadata": {
        "verification_type": "fidelity",
        "agent": "sdd-fidelity-review",
        "scope": "spec",
        "target": "spec-root",
        "on_failure": {
          "consult": true,
          "revert_status": "in_progress",
          "continue_on_failure": false
        }
      }
    }
  }
}